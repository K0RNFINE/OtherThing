<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Memory Game</title>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      background: #f0f0f0;
    }
    h1 {
      margin-top: 30px;
    }
    .button-grid {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      max-width: 400px;
      margin: 40px auto;
    }
    .btn {
      width: 150px;
      height: 150px;
      margin: 10px;
      border: none;
      border-radius: 12px;
      font-size: 24px;
      color: white;
      cursor: pointer;
      outline: none;
      transition: opacity 0.2s ease;
    }
    .red { background: #e74c3c; }
    .blue { background: #3498db; }
    .green { background: #2ecc71; }
    .yellow { background: #f1c40f; color: black; }
    .btn:active,
    .btn.active {
      opacity: 0.6;
    }
    button#toggleMusic {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 16px;
    }
  </style>
</head>
<body>

<h1>Memory Game - Round <span id="round">1</span>/10</h1>

<div class="button-grid">
  <button class="btn red" data-color="red">Red</button>
  <button class="btn blue" data-color="blue">Blue</button>
  <button class="btn green" data-color="green">Green</button>
  <button class="btn yellow" data-color="yellow">Yellow</button>
  
</div>

<button id="toggleMusic">Toggle Music</button>

<audio id="bgm" src="song.mp3" autoplay loop></audio>
<a style="color: #e74c3c;" href="https://k0rnfine.github.io/Saint_joseph/">Hard Mode</a>
<a style="color: yellow; box-shadow: 10px black;" href="https://k0rnfine.github.io/OtherThing/">Normal Mode</a>
<script>
  const colors = ["red", "blue", "green", "yellow"];
  let sequence = [];
  let userSequence = [];
  let round = 1;

  const buttons = document.querySelectorAll(".btn");
  const roundDisplay = document.getElementById("round");
  const bgm = document.getElementById("bgm");

  function playSound(color) {
    const audio = new Audio(`sounds/${color}.mp3`);
    audio.play();
  }

  function flashButton(color) {
    const btn = document.querySelector(`.btn.${color}`);
    btn.classList.add("active");
    playSound(color);
    setTimeout(() => btn.classList.remove("active"), 400);
  }

  function generateSequence(length = 1) {
    for (let i = 0; i < length; i++) {
      sequence.push(colors[Math.floor(Math.random() * colors.length)]);
    }
  }

  function playSequence() {
    let i = 0;
    userSequence = [];
    const interval = setInterval(() => {
      flashButton(sequence[i]);
      i++;
      if (i >= sequence.length) clearInterval(interval);
    }, 800);
  }

  function checkUserInput(color) {
    userSequence.push(color);
    playSound(color);
    const index = userSequence.length - 1;
    if (userSequence[index] !== sequence[index]) {
      alert("Wrong! Try again from round 1.");
      round = 1;
      sequence = [];
      roundDisplay.textContent = round;
      generateSequence(1);
      setTimeout(playSequence, 500);
      return;
    }

    if (userSequence.length === sequence.length) {
      if (round === 10) {
        alert("Congrats! You completed all 10 rounds!");
        window.location.href = "https://example.com"; // Change to your URL
      } else {
        round++;
        roundDisplay.textContent = round;
        generateSequence(1);
        setTimeout(playSequence, 800);
      }
    }
  }

  buttons.forEach(button => {
    button.addEventListener("click", () => {
      const color = button.dataset.color;
      checkUserInput(color);
    });
  });

  document.getElementById("toggleMusic").addEventListener("click", () => {
    if (bgm.paused) {
      bgm.play();
    } else {
      bgm.pause();
    }
  });

  generateSequence(1);
  playSequence();
</script>
</body>
</html>
